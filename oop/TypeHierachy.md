# APPENDIX B. νƒ€μ… κ³„μΈµμ κµ¬ν„

**TL;DR**

<br/>

---

<br/>

- λ§μ€ μ‚¬λλ“¤μ΄ κ°–κ³  μλ” ν”ν• μ¤ν•΄λ” νƒ€μ…κ³Ό ν΄λμ¤κ°€ λ™μΌν• κ°λ…μ΄λΌλ” κ²ƒ

  - νƒ€μ…: κ°λ…μ λ¶„λ¥
  - ν΄λμ¤: νƒ€μ…μ„ κµ¬ν„ν•λ” ν• κ°€μ§€ λ°©λ²•

- μ΄λ² μ¥μ„ μ½μ„ λ• μ—Όλ‘ν•  λ‘ κ°€μ§€ μ‚¬ν•­
- ν•΄λ‹Ή μ¥μ λ¨λ“  λ°©λ²•μ€ **νƒ€μ… κ³„μΈµμ„ κµ¬ν„ν•λ” λ°©λ²•μΈ λ™μ‹μ— λ‹¤ν•μ„±μ„ κµ¬ν„ν•λ” λ°©λ²•**
  - νƒ€μ… κ³„μΈµμ€ λ™μΌν• λ©”μ‹μ§€μ— λ€ν• ν–‰λ™ νΈν™μ„±μ„ μ „μ λ΅ ν•κΈ° λ•λ¬Έ
  - κ³µν†µμ μΌλ΅ μνΌνƒ€μ…μ— λ€ν•΄ μ „μ†΅ν• λ©”μ‹μ§€λ¥Ό μ„λΈνƒ€μ…λ³„λ΅ λ‹¤λ¥΄κ² μ²λ¦¬ν•  μ μλ” λ°©λ²•μ„ μ κ³µν•λ”λ°, μ΄ λ°©λ²•λ“¤μ€ 12μ¥μ—μ„ μ„¤λ…ν• λ™μ  λ©”μ„λ“ νƒμƒ‰κ³Ό μ μ‚¬ν• λ°©μ‹μ„ μ΄μ©ν•΄ μ μ ν• λ©”μ„λ“λ¥Ό κ²€μƒ‰ν•  κ²ƒμ„.
- ν•΄λ‹Ή μ¥μ λ°©λ²•μ„ μ΄μ©ν•΄ νƒ€μ… κ³„μΈµμ„ κµ¬ν„ν•λ‹¤κ³  ν•΄μ„, μ„λΈνƒ€μ΄ν•‘ κ΄€κ³„κ°€ λ³΄μ¥λλ” κ²ƒμ€ μ•„λ‹
  - μ¬λ°”λ¥Έ νƒ€μ… κ³„μΈµμ΄ λκΈ° μ„ν•΄μ„λ” μ„λΈνƒ€μ…μ΄ μνΌνƒ€μ…μ„ λ€μ²΄ν•  μ μλ„λ΅ **λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ„ μ¤€μ**ν•΄μ•Ό ν•¨ (13μ¥ μ°Έκ³ )
  - νƒ€μ… μ‚¬μ΄μ— λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ„ μ¤€μν•λ„λ΅ λ§λ“λ” μ±…μ„μ€ λ³ΈμΈμ—κ² μμ.

<br/>

### ν΄λμ¤λ¥Ό μ΄μ©ν• νƒ€μ… κ³„μΈµ κµ¬ν„

β”οΈνƒ€μ…μ€ **κ°μ²΄μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤**λ¥Ό κ°€λ¦¬ν‚¤κΈ° λ•λ¬Έμ— κ²°κ³Όμ μΌλ΅ ν΄λμ¤λ” κ°μ²΄μ νƒ€μ…κ³Ό κµ¬ν„μ„ λ™μ‹μ— μ •μν•λ” κ²ƒκ³Ό κ°™μ

- 10μ¥μ `Phone`κ³Ό `NightlyDiscountPhone` μ½”λ“ μƒμ†κ΄€κ³„λ¥Ό μμ‹

β†’ κ°μ²΄μ§€ν–¥ μ–Έμ–΄μ—μ„ ν΄λμ¤λ¥Ό <b>μ‚¬μ©μ μ •μ νƒ€μ… (user-defined data type)</b>μ΄λΌκ³  λ¶€λ¥΄λ” μ΄μ 

<br/>

- νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ” μ μ§€ν•λ©΄μ„ μƒλ΅μ΄ κµ¬ν„μ„ κ°€μ§„ κ°μ²΄λ¥Ό μ¶”κ°€ν•  μ μλ” κ°€μ¥ κ°„λ‹¨ν• λ°©λ²• β†’ **μƒμ†**
- **ν΄λμ¤**λ” νƒ€μ…μ„ κµ¬ν„ν•  μ μλ” λ‹¤μ–‘ν• λ°©λ²• μ¤‘ ν•λ‚μΌ λΏ

<br/>

### μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν• νƒ€μ… κ³„μΈµ κµ¬ν„

Example. κ°„λ‹¨ν• κ²μ„μ„ κ°λ°ν•κ³  μλ¦„

<br/><img src="./image/imageB1.png" alt="" width="60%" /><br/>

- Sound νƒ€μ…: Effect νƒ€μ…μ μ„λΈνƒ€μ… β†’ Effect ν΄λμ¤λ¥Ό μƒμ†λ°›μ
- Explosion νƒ€μ…: Effect νƒ€μ…μΈ λ™μ‹μ— Displyable νƒ€μ… β†’ Effect ν΄λμ¤μ™€ Displayable ν΄λμ¤λ¥Ό λ™μ‹μ— μƒμ†
  - λ‹¤μ¤‘ μƒμ† β†’ λ€λ¶€λ¶„μ μ–Έμ–΄λ“¤μ΄ λ‹¤μ¤‘ μƒμ†μ„ μ§€μ›ν•μ§€ μ•μ

<br/><img src="./image/imageB2.png" alt="" width="60%" /><br/>

- 'μƒμ†μΌλ΅ μΈν• κ²°ν•©λ„ λ¬Έμ  + λ‹¤μ¤‘ μƒμ†μ΄λΌλ” κµ¬ν„ μ μ•½'μ„ ν•΄κ²°ν•  μ μλ” λ°©λ²• β†’ **μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©**

<br/>

#### GameObject _interface_

```java
public interface GameObject {
    String getName();
}
```

<br/>

#### Displayable _interface_

- `GameObject` νƒ€μ…: κ²μ„μ λ§μ€ μ”μ†λ“¤μ€ ν™”λ©΄μ— ν‘μ‹λ  ν•„μ”κ°€ μμ
- μ΄ κ°μ²΄λ“¤μ€ ν™”λ©΄ ν‘μ‹λΌλ” λ™μΌν• ν–‰λ™μ„ μ κ³µν•κΈ° λ•λ¬Έμ— λ³„λ„ μ νƒ€μ…μΌλ΅ λ¶„λ¥λΌμ•Ό ν•¨ β†’ `Displyable` νƒ€μ…

```java
/**
 *  Displayable νƒ€μ…μ„ GameObject νƒ€μ…μ μ„λΈνƒ€μ…μΌλ΅ μ •μ
 */
public interface Displayable extends GameObject {
    Point getPosition();
    void update(Graphics graphics);
}
```

<br/>

#### Collidable _interface_

- λ‹¤λ¥Έ μ”μ†λ“¤κ³Όμ **μ¶©λλ΅ μΈν•΄ μ΄λ™μ— μ μ•½**μ„ λ°›κ±°λ‚ **ν”Όν•΄**λ¥Ό μ…λ” λ“±μ μ²λ¦¬κ°€ ν•„μ”ν• κ°μ²΄λ¥Ό μ„ν• Collidable νƒ€μ… μ •μ
- μ¶©λ μ²΄ν¬λ¥Ό μ„ν• collideWith μ¤νΌλ μ΄μ…μ„ μ¶”κ°€

```java
public interface Collidable extends Displayable {
    boolean collideWith(Collidable other);
}
```

<br/>

#### Effect

- ν™”λ©΄μ— ν‘μ‹λμ§€ μ•λ”λΌλ„ κ²μ„μ— λ‹¤μ–‘ν• ν¨κ³Όλ¥Ό λ¶€μ—¬ν•  μ μλ” λ¶€κ°€μ μΈ μ”μ†λ¥Ό μ„ν• `Effect` νƒ€μ… μ •μ
-

```java
public interface Effect extends GameObject {
    void activate();
}
```

- `Player`λ” ν™”λ©΄μ— ν‘μ‹λΌμ•Ό ν• λΏλ§ μ•„λ‹λΌ ν™”λ©΄ μƒμ— ν‘ν„λ λ‹¤λ¥Έ κ°μ²΄λ“¤κ³Όμ μ¶©λμ„ μ²΄ν¬ν•΄μ•Ό ν•¨
- `Collidable` νƒ€μ…μ΄ μ •μν• ν–‰λ™μ„ μ κ³µ

-> **μΈν„°νμ΄μ¤**μ™€ **ν΄λμ¤**λ¥Ό ν•¨κ» μ΅°ν•©ν•λ©΄ _β‘  λ‹¤μ¤‘ μƒμ†μ λ”λ λ§μ— λΉ μ§€μ§€ μ•μ„ μ μκ³ _ _β‘΅ λ‹¨μΌ μƒμ† κ³„μΈµμΌλ΅ μΈν• κ²°ν•©λ„ λ¬Έμ λ„ ν”Όν•  μ μμ_

<br/>

#### νƒ€μ… κµ¬ν„μ„ ν†µν• μ¥μ 

<br/><img src="./image/imageB3.png" alt="" width="70%" /><br/>

#### 1. μ—¬λ¬ ν΄λμ¤κ°€ λ™μΌν• νƒ€μ…μ„ κµ¬ν„ν•  μ μμ

- `Player` μ™€ `Monster` ν΄λμ¤λ” μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤μ§€λ§, μ΄ λ‘ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ“¤μ€ `Collidable` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•κ³  μκΈ° λ•λ¬Έμ— λ™μΌν• λ©”μ‹μ§€μ— μ‘λ‹µν•  μ μμ.
- μ„λ΅ λ‹¤λ¥Έ ν΄λμ¤λ¥Ό μ΄μ©ν•΄μ„ κµ¬ν„λμ§€λ§ νƒ€μ…μ€ λ™μΌ

#### 2. ν•λ‚μ ν΄λμ¤κ°€ μ—¬λ¬ νƒ€μ…μ„ κµ¬ν„ν•  μ μλ‹¤

- `Explosion` μ μΈμ¤ν„΄μ¤λ” Displayable μΈν„°νμ΄μ¤μ™€ λ™μ‹μ— Effect μΈν„°νμ΄μ¤λ„ κµ¬ν„ ν•¨
- `Explosion` μ μΈμ¤ν„΄μ¤λ” Displayable νƒ€μ…μΈ λ™μ‹μ— Effect νƒ€μ…μ΄κΈ°λ„ ν•¨

<br/>

π“ μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ νƒ€μ…μ„ μ •μν•κ³  ν΄λμ¤λ¥Ό μ΄μ©ν•΄ κ°μ²΄λ¥Ό κµ¬ν„ν•λ©΄ ν΄λμ¤ μƒμ†μ„ μ‚¬μ©ν•μ§€ μ•κ³ λ„ νƒ€μ… κ³„μΈµμ„ κµ¬ν„ν•  μ μμ

<br/>

### μ¶”μƒ ν΄λμ¤λ¥Ό μ΄μ©ν• νƒ€μ… κ³„μΈµ κµ¬ν„

<table>
<tr>
<td>

```java
public abstract class DiscountPolicy {
    private List<DiscountCondition> conditions = new ArrayList<>();

    public DiscountPolicy(DiscountCondition ... conditions) {
        this.conditions = Arrays.asList(conditions);
    }

    public Money calculateDiscountAmount(Screening screening) {
        for(DiscountCondition each : conditions) {
            if (each.isSatisfiedBy(screening)) {
                return getDiscountAmount(screening);
            }
        }
        return screening.getMovieFee();
    }

    abstract protected Money getDiscountAmount(Screening Screening);
}
```

</td>
<td>

```java
public class AmountDiscountPolicy extends DiscountPolicy {
    private Money discountAmount;

    public AmountDiscountPolicy(Money discountAmount, DiscountCondition... conditions) {
        super(conditions);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money getDiscountAmount(Screening screening) {
        return discountAmount;
    }
}
```

</td>
</tr>
</table>

#### κµ¬μ²΄ ν΄λμ¤μ νƒ€μ… μƒμ† vs μ¶”μƒ ν΄λμ¤ νƒ€μ… μƒμ†

1. μ²« λ²μ§Έ, μμ΅΄ν•λ” λ€μƒμ μ¶”μƒν™” μ •λ„
   - κµ¬μ²΄ ν΄λμ¤ μƒμ†: κµ¬μ²΄μ μΈ λ‚΄λ¶€ κµ¬ν„μ— κ°•ν•κ² κ²°ν•© (λ¶€λ¨ ν΄λμ¤κ°€ λ³€κ²½λλ©΄ μμ‹ ν΄λμ¤λ„ λ³€κ²½λ  κ°€λ¥μ„±μ΄ νΌ)
   - μ¶”μƒ ν΄λμ¤ μƒμ†: λ‚΄λ¶€ κµ¬ν„μ΄ μ•„λ‹ μ¶”μƒ λ©”μ„λ“μ μ‹κ·Έλ‹μ²μ—λ§ μμ΅΄
   - **β­οΈ λ¨λ“  κµ¬μ²΄ ν΄λμ¤μ λ¶€λ¨ γ…–ν΄λμ¤λ¥Ό ν•­μƒ μ¶”μƒ ν΄λμ¤λ΅ λ§λ“¤κΈ° μ„ν•΄ λ…Έλ ¥ν•λΌ.**
2. λ‘ λ²μ§Έ, μƒμ†μ„ μ‚¬μ©ν•λ” μλ„
   - `Phone` ν΄λμ¤μ κ²½μ° μμ‹ ν΄λμ¤μΈ `NightlyDiscountPhone` μ `calculateFee` λ©”μ„λ“κ°€ λ¶€λ¨ ν΄λμ¤μΈ Phoneμ `calculateFee` λ©”μ„λ“μ κµ¬μ²΄μ μΈ λ‚΄λ¶€ κµ¬ν„μ— κ°•ν•κ² κ²°ν•©
     - `Phone` ν΄λμ¤κ°€ λ³€κ²½λ  κ²½μ° μμ‹ ν΄λμ¤μΈ `NightlyDiscountPhone` λ„ ν•¨κ» λ³€κ²½λ  κ°€λ¥μ„±μ΄ λ†’μ

<br/>
<br/>
